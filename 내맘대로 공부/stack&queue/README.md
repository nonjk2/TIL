- [Stack](#stack)
  - [특징](#특징)
  - [사용 사례](#사용-사례)
    - [함수 호출 스택](#함수-호출-스택)
      - [함수 호출 스택 순서](#함수-호출-스택-순서)
    - [이벤트 처리 스택](#이벤트-처리-스택)
    - [뒤로 가기](#뒤로-가기)
    - [Undo 및 Redo 기능](#undo-및-redo-기능)
    - [상태 관리](#상태-관리)
    - [컴포넌트 스택](#컴포넌트-스택)
    - [루트 리듀서 및 미들웨어](#루트-리듀서-및-미들웨어)
      - [미들웨어를 사용한 스택 구조 예시](#미들웨어를-사용한-스택-구조-예시)
- [Queue](#queue)
  - [큐의 활용 사례](#큐의-활용-사례)
    - [FIFO 원칙](#fifo-원칙)
    - [대기열(Queue) 관리](#대기열queue-관리)
    - [네트워크 통신](#네트워크-통신)
    - [멀티스레딩](#멀티스레딩)
    - [너비 우선 탐색(Breadth###First Search, BFS)](#너비-우선-탐색breadthfirst-search-bfs)
    - [캐시(Cache) 관리](#캐시cache-관리)
      - [stale while revalidate -\> SWR , react query](#stale-while-revalidate---swr--react-query)
  - [리액트에서의 큐](#리액트에서의-큐)
    - [이벤트 큐 (Event Queue)](#이벤트-큐-event-queue)
    - [리액트 업데이트 큐 (React Update Queue)](#리액트-업데이트-큐-react-update-queue)
    - [가상 DOM 큐 (Virtual DOM Queue)](#가상-dom-큐-virtual-dom-queue)
    - [이벤트 루프 (Event Loop)](#이벤트-루프-event-loop)
    - [효율적인 배치 (Batching)](#효율적인-배치-batching)
    - [액션 큐 (Action Queue)](#액션-큐-action-queue)

# Stack

스택은 데이터를 저장하는 자료 구조중 하나로 데이터를 **선형 구조**로 저장하며 데이터를 넣고 뺄 때
후입선출(Last-In-First-Out,LIFO) 원칙을 따른다.

쉽게 말해 마지막에 넣은 데이터가 가장 먼저 빠져나오는 구조를 가리킨다.

## 특징

스택의 특징은 아래와같다.

1. **후입선출**

- 가장 최근에 추가된 항목이 가장 먼저 제거가 된다.

2. **데이터 추가 및 삭제**

- 스택에서 데이터를 추가할 때는 push 라고 하며 , 데이터를 삭제할 때는 '팝' 이라고 한다.

3. **상단(Top)**

- 스택의 가장 상단에 있는 요소를 top 요소라고 한다. 상단 요소만 직접 접근 할수 있고 다른 요소에서 접근하려면
  상단부터 순차적으로 요소를 팝해야 한다.

4. **크기제한**

- 스택은 일반적으로 고정된 크기를 가진다. 크기가 정해진 스택은 꽉 차게 되면 더이 상 요소를 푸시할 수 없다.

## 사용 사례

프론트엔드 웹 개발에서의 스택의 사용 사례는 엄청나게 많다. 아래와 같은사례

### 함수 호출 스택

- JavaScript 에서 함수는 호출 스택에 push되고 pop되며 실행된다. 이는 함수 호출과 반환을 관리하는데 사용된다, 조금 더 디테일 하게 들어가서 순서대로 설명해보자면

#### 함수 호출 스택 순서

1. 스택 초기화 : 호출 스택은 비어있는채로 시작
2. 함수 호출 : 프로그램이 함수를 호출하면 해당 함수의 실행 컨텍스트가 생성이 되고 스택의 맨위에 푸시
3. 실행 컨텍스트 : 함수의 변수, 매개변수, this 값 및 다른 필수 정보가 저장된다.
4. 재귀 호출 및 중첩 호출 : 함수 내부에서 다른 함수를 호출하거나 자기 자신을 재귀적으로 호출하는 경우 새로운 실행 컨텍스트가 생성되고 스택의 맨위에 푸시, 이로인해서 스택에 여러 개의 실행 컨텍스트가 중첩된다.
5. 실행 및 반환 : 함수가 실행을 시작하면 해당 함수의 코드가 실행. 이 코드에서 다른함수를 호출하면 새로운 실행 컨텍스트가 스택에 푸시된다. 함수의 실행이 완료되면 해당 실행 컨텍스트가 스택에서 팝되어 사라짐
6. 스택의 변화 : 스택은 계속해서 실행 컨텍스트의 푸시와 팝을 반복하면서 변경된다.
7. 콜백 함수 처리 : 비동기 작업 또는 이벤트 핸들링에 사용되는 콜백 함수도 스택에서 관리된다. 콜백 함수는 비동기 작업이 완료되면 스택으로 이동하여 실행됨!
   1. **비동기 함수는 이때에 백그라운드에서 새로운 실행 컨텍스트가 생성되면서 바로 함수가 실행이되며 비동기 작업이 완료 되었을 때에 그 결과를 처리하기 위해 컨텍스트에 스택에 새로 푸시가 됨!(예를 들어 then()메서드나 콜백함수 등)**
8. 스택 오버플로우 : 스택은 제한된 용량을 가지므로 재귀 호출 또는 무한 반복으로 인해 스택이 넘치면 스택 오버 플로우 오류가 발생한다.

### 이벤트 처리 스택

- 웹 애플리 케이션에서 사용자 입력 및 이벤트는 이벤트 처리 스택을 통해 관리된다.
- 사용자의 인터렉트들이 스택에 적재 되고 순차적으로 처리됨

### 뒤로 가기

- 브라우저의 뒤로가기 버튼을 클릭할 때에 스택 구조가 사용된다. 방문한 페이지의 상태가 스택에 저장되고, 뒤로 가기 버튼을 누르면 스택에서 이전 페이지의 상태가 팝되어 현재 페이지로 돌아갈 수 있게 한다.
  (브라우저 히스토리 , navigation )

### Undo 및 Redo 기능

- 웹 애플리케이션에서 사용자가 수행한 작업을 스택에 저장하여 Undo(실행 취소) 및 Redo(다시 실행) 기능을 구현할 수있다. 사용자가 작업을 수행 할 때마다 스택에 작업 정보를 추가하고 이전 상태로 돌아갈 때 스택에서 팝하면 해당 동작이 수행된다.

### 상태 관리

- React 및 다른 프론트엔드 라이브러리 및 프레임워크에서 상태 관리에 스택구조를 사용할수있다. (위와 동일하게 Navigation , 라우팅-페이지간의 이동 및 상태관리 수행)

### 컴포넌트 스택

- React에서 UI 컴포넌트를 스택 구조로 관리할 수 있다. 컴포넌트를 푸시하고 팝해서 동적으로 화면을 구성하거나 컴포넌트 간의 탐색을 관리할 수 있다.

### 루트 리듀서 및 미들웨어

- Redux 같은 상태 관리 라이브러리에서 액션을 처리하는 중간 단계로 스택을 활용할 수 있다.
  - Redux는 상태 관리 라이브러리로서 상태와 액션을 중앙 집중식으로 관리하는데 사용한다. 미들웨어는 Redux의 액션 처리과정 중간에 개입해서 특정 작업을 수행할수있는 확장기능이다.
  #### 미들웨어를 사용한 스택 구조 예시
  - Redux 스토어 생성 : 전역 상태와 액션 처리를 관리하는 중심 역할
  - 액션 디스패치 : 사용자의 인터랙트 또는 앱의 내부 이벤트에따라서 액션을 디스패치
  - 미들웨어 : 액션을 디스패치한 후 액션을 처리하기 전과 후에 추가작업을 수행할수 있다.
  - 액션 처리 : 미들웨어에서의 작업을 수행한 이후 액션은 리듀서로 전달 리듀서는 현재 상태와 액션을 기반으로 새로운 상태를 반환
  - 상태 업데이트 : 리듀서가 반환한 새로운 상태가 스택에 푸시 -> 새로운 상태 업데이트
  - 액션 처리 완료 : 액션 처리가 완료되면 해당 액션은 스택에서 팝되어 제거된다.
    - 사용예시):
      - 1. 사용자가 버튼을 클릭하여 액션 "FETCH_DATA"를 디스패치합니다.
      - 2. 미들웨어에서 "FETCH_DATA" 액션을 감지하고 비동기 HTTP 요청을 시작합니다.
      - 3. HTTP 요청이 완료되면 미들웨어에서 "FETCH_DATA_SUCCESS" 또는 "FETCH_DATA_FAILURE" 액션을 디스패치합니다.
      - 4. 해당 액션은 리듀서로 전달되어 상태를 업데이트하거나 오류를 처리합니다.
      - 5. 업데이트된 상태가 스택에 푸시되어 컴포넌트에 반영됩니다.

# Queue

- 데이터 구조의 한종류인 큐는 요소를 저장하고 가져오는 데 사용되는 **선입선출** 원칙을 따르는 자료구조다.
- 큐는 일반적으로 데이터의 저장과 제거에 두가지 주요작업을 지원한다.

  - Enqueue (큐에 추가): 새로운 요소를 큐의 뒤쪽에 추가하는 작업을 의미한다. 이때에 새로운 요소는 큐의 가장 뒷부분에 위치하게 된다.

  - Dequeue (큐에서 제거): 큐의 가장 앞쪽에 있는 요소를 제거하고 반환하는 작업을 의미한다. 이렇게 하면 큐의 가장 앞쪽에 있는 요소가 큐에서 빠져나오게 된다.

## 큐의 활용 사례

### FIFO 원칙

- 큐의 가장 먼저 들어온 요소가 가장 먼저 나가는 원칙을 따르므로, 데이터가 처리되는 순서를 제어할 때 유용하다.

### 대기열(Queue) 관리

- 프로세스, 작업, 이벤트 등을 처리하는 대기열 관리에 사용된다. 예를 들어, 프린터 대기열, 작업 대기열, 이벤트 대기열 등에서 큐를 활용한다.

### 네트워크 통신

- 네트워크에서 데이터를 전송하고 받을 때, 도착 순서를 유지하기 위해 패킷 큐를 사용한다.

### 멀티스레딩

- 멀티스레딩 환경에서 스레드 간에 작업을 조정하기 위한 큐를 사용한다.

### 너비 우선 탐색(Breadth###First Search, BFS)

- 그래프 알고리즘에서 BFS를 구현할 때, 다음으로 탐색할 노드를 큐에 저장하고 처리하는 데 사용된다고 한다.ㅇㅎ,,

### 캐시(Cache) 관리

- 캐시에서 데이터를 저장하고 사용할 때, 캐시 큐를 활용하여 오래된 데이터를 대체하는데 사용한다.

  #### stale while revalidate -> SWR , react query

  - 캐시된 데이터 사용 (Stale):

  초기에 데이터가 캐시에 저장될 때, 이 데이터는 "stale" 또는 오래된 데이터. 사용자가 해당 데이터를 요청할 때, 캐시에서 오래된 데이터를 사용한다. 이로써 사용자는 빠른 응답을 받을 수 있다.

  - 동시에 백그라운드에서 캐시 갱신 (Revalidate):

  캐시에서 데이터를 제공하는 동시에, 백그라운드에서는 실제 데이터 원본 또는 서버로부터 데이터를 다시 가져와 갱신 작업을 수행한다. 이 과정은 비동기적으로 처리된다.

  - 갱신된 데이터로 캐시 업데이트:

  백그라운드에서 데이터를 새로 가져오고 갱신한 후, 갱신된 데이터로 캐시를 업데이트한다. 이렇게 하면 다음 번에 사용자가 같은 데이터를 요청할 때, 새로운 데이터가 캐시에 저장된다.

## 리액트에서의 큐

### 이벤트 큐 (Event Queue)

리액트 애플리케이션은 사용자 상호 작용(클릭, 키보드 입력, 등)을 처리하기 위해 이벤트 큐를 사용한다. 이벤트 큐에 이벤트가 추가되고, 리액트는 해당 이벤트를 처리하여 컴포넌트 업데이트를 트리거한다.

### 리액트 업데이트 큐 (React Update Queue)

리액트는 컴포넌트 업데이트를 큐에 추가한다. 컴포넌트의 상태나 속성이 변경될 때, 해당 업데이트는 큐에 추가되고 비동기적으로 처리된다. 이로써 리액트는 업데이트를 효율적으로 관리하고 렌더링 성능을 최적화한다ㄴ.

### 가상 DOM 큐 (Virtual DOM Queue)

리액트의 가상 DOM은 실제 DOM과 동기화하는 과정에서 변경된 엘리먼트를 큐에 추가한다. 가상 DOM 큐를 사용하여 실제 DOM과 비교하여 변경된 부분만 업데이트한다.

### 이벤트 루프 (Event Loop)

자바스크립트는 이벤트 루프를 사용하여 비동기 작업을 처리한다. 리액트 업데이트 및 가상 DOM 처리 역시 이벤트 루프를 통해 비동기적으로 처리함.

### 효율적인 배치 (Batching)

리액트는 여러 업데이트를 한 번에 처리하여 렌더링 성능을 최적화한다. 이를 통해 여러 컴포넌트 업데이트를 배치 처리하고 화면을 효율적으로 갱신할 수 있다.

### 액션 큐 (Action Queue)

리덕스와 같은 상태 관리 라이브러리는 액션 큐를 사용하여 상태 변경을 관리한다. 액션은 리덕스 스토어에 디스패치되고, 해당 액션에 따라 상태 업데이트가 큐에 추가한다.
